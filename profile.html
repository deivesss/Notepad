<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Perfil — Notepad</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="firebase-config.js" onerror="console.info('firebase-config.js não encontrado')"></script>
  <script defer>
    async function init() {
      const cfg = window.FIREBASE_CONFIG || (window.firebaseConfig || null);
      if (!cfg) return document.body.innerText = 'Firebase não configurado. Crie firebase-config.js';
      firebase.initializeApp(cfg);
      const auth = firebase.auth();
      auth.onAuthStateChanged(user => {
        if (!user) {
          window.location.href = 'login.html';
          return;
        }
        document.getElementById('email').textContent = user.email || '—';
        document.getElementById('name').textContent = user.displayName || '—';
        document.getElementById('uid').textContent = user.uid;
      });

      document.getElementById('signout').addEventListener('click', async () => {
        await auth.signOut();
        window.location.href = 'index.html';
      });
    }
    init();
  </script>
</head>
<body>
  <main class="auth-page">
    <section class="auth-card">
      <h2>Perfil</h2>
      <dl>
        <dt>Nome</dt>
        <dd id="name">—</dd>
        <dt>Email</dt>
        <dd id="email">—</dd>
        <dt>UID</dt>
        <dd id="uid">—</dd>
      </dl>
      <div style="margin-top:12px;display:flex;gap:8px;">
        <button id="signout" class="primary">Sair</button>
        <button onclick="window.location.href='index.html'">Voltar</button>
      </div>
    </section>
  </main>
</body>
</html>